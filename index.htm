<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>jQuery Related Selects</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
<script src="src/jquery.relatedselects.new.js" type="text/javascript"></script>

<script type="text/javascript">
$(function(){
	
	$("#example-1, #example-3").relatedSelects({
		onChangeLoad: 'datasupplier.php',
		defaultOptionText: 'Choose an Option',
		selects: {
			'stateID':		{ loadingMessage:'Loading Counties...' },
			'countyID':		{ loadingMessage:'Loading Towns...' },
			'townID':		{ loadingMessage:'Loading Villages...' },
			'villageID':	{}
		}
	});
	
	$("#example-2").relatedSelects({
		onChangeLoad: 'datasupplier.php',
		loadingMessage: 'Please wait',
		selects: ['stateID', 'countyID', 'townID', 'villageID']
	});
	
	$("#example-4").relatedSelects({
		onChangeLoad: 'datasupplier.php',
		selects: ['stateID', 'countyID']
	});

	$("#example-5").relatedSelects({
		onChangeLoad: 'datasupplier.php',
		selects: ['stateID', 'countyID'],
		onChange: function(){
			// 'this' is a reference to the changed select box
			alert( $(this).attr('name') + ' changed!');
		},
		onLoadingStart: function(){
			// 'this' is a reference to the sibling select box that just had data loaded into it.
			$(this).siblings('div').html("Loading, please wait...");
		},
		onLoadingEnd: function(){
			// 'this' is a reference to the sibling select box that just had data loaded into it.
			$(this).siblings('div').html("Please choose an option above.");
		}
	});
	
	$("#example-6").relatedSelects({
		onChangeLoad: 'datasupplier.php',
		loadingMessage: 'Please wait',
		selects: ['stateID', 'countyID','townID'],
		disableIfEmpty:true,
		onEmptyResult: function(){
			// 'this' is a reference to the changed select box
			alert('Unable to find any matches for ' + $(this).find('option:selected').text() + '!');
		}
	});
});
</script>

</head>

<body>

<h1>jQuery Related Selects Plugin</h1>
<p><a href="http://www.erichynds.com/jquery/jquery-related-dependent-selects-plugin/">&laquo; Back to Blog Post</a></p>
<p>Docs &amp; download at <a href="http://github.com/ferric84/jquery-related-selects">http://github.com/ferric84/jquery-related-selects</a></p>

<h2>Example 1</h2>
<p>The state select is pre-populated, and the rest will populate based on preceding values.  Each select is configured with a custom loading message, and the default option text is set to &quot;Choose an Option&quot;.</p>
<form id="example-1">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="MA">Massachusetts</option>
	<option value="VT">Vermont</option>
	</select>

	<select name="countyID">
	<option value="">Choose County &raquo;</option>
	</select>

	<select name="townID">
	<option value="">Choose Town &raquo;</option>
	</select>

	<select name="villageID">
	<option value="">Choose Village &raquo;</option>
	</select>
</form>

<h2>Example 2</h2>
<p>The state and county selects are pre-populated and legitimate values are selected.  Since the 'County' select already has a selected option,
the 'Town' select automatically populates. Individual selects do not have any custom settings.  No defaultOptionText override.</p>
<form id="example-2">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="MA" selected="selected">Massachusetts</option>
	<option value="VT">Vermont</option>
	</select>

	<select name="countyID">
	<option value="">Choose County &raquo;</option>
	<option value="BARN" selected="selected">Barnstable</option>
	</select>

	<select name="townID">
	<option value="">Choose Town &raquo;</option>
	</select>
	
	<select name="villageID">
	<option value="">Choose Village &raquo;</option>
	</select>
</form>


<h2>Example 3</h2>
<p>The state select is populated, and the HTML structure of the other three are completely empty when the page loads.</p>
<form id="example-3">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="MA">Massachusetts</option>
	<option value="VT">Vermont</option>
	</select>

	<select name="countyID"></select>

	<select name="townID"></select>

	<select name="villageID"></select>
</form>

<h2>Example 4</h2>
<p>Basic, just two selects.</p>
<form id="example-4">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="MA">Massachusetts</option>
	<option value="VT">Vermont</option>
	</select>

	<select name="countyID">
	<option value="">Choose County &raquo;</option>
	</select>
</form>

<h2>Example 5</h2>
<p>Using the onChange, onLoadingStart &amp; onLoadingEnd callbacks.</p>
<form id="example-5">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="MA">Massachusetts</option>
	<option value="VT">Vermont</option>
	</select>

	<select name="countyID">
	<option value="">Choose County &raquo;</option>
	</select>
	
	<div><!-- placeholder for our callback message --></div>
</form>

<h2>Example 6</h2>
<p>Using the DisableIfEmpty option &amp; the onEmptyResult callback.</p>
<form id="example-6">
	<select name="stateID">
	<option value="">Choose State &raquo;</option>
	<option value="TX">Texas</option>
	<option value="SC">South Carolina</option>
	</select>

	<select name="countyID">
	<option value="">Choose County &raquo;</option>
	</select>
	
	<select name="townID">
	<option value="">Choose Town &raquo;</option>
	</select>
	
	<div></div>
</form>


</body>
</html>

